---
output: github_document
bibliography: bib.bib
link-citations: true
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
example_data <- read.csv("tests/testthat/test-data/data_1.csv")
```

# Cragg
An R package to implement the Cragg-Donald test for weak instruments.

## Overview
Cragg is an R package to implement the Cragg-Donald [-@Cragg_1993] test for weak instruments, using critical values from Stock and Yogo [-@Stock_2005].
These tests quantify the degree to which weak instruments can undermine regression estimates for models with multiple endogenous variables / treatments.

### Main Features

* Calculates Cragg-Donald statistics for weak instruments.

* Recommends critical values for the Cragg-Donald Statistic based on the largest allowable bias relative to regular OLS
  or the maximum allowable size distortion of the Wald test.

## Installation
```{r, eval = FALSE}
#install.packages("devtools")
devtools::install_github("beniaminogreen/cragg")
```

## Usage
The cragg package has two main functions `cragg_donald()`,  and `stock_yogo_test()`.

`cragg_donald()` implements the Cragg-Donald test for weak instruments in R. It can be thought of
as the matrix-equivalent of the first-stage F-test for weak instruments, and is used to evaluate models
with multiple endogenous variables.
The syntax is show below:

```{r}
library(cragg)
#Cragg-Donald Test
cragg_donald(
	~X1+X2+X3,	#Controls
	~D,			#Treatments
	~Z1 + Z2,	#Instruments
	data =example_data
)
```
`stock_yogo_test()` implements the Stock and Yogo test for weak instruments. The Stock and Yogo test is based on a set of critical values for the Cragg-Donalds statistic based on the null hypothesis

```{r}
stock_yogo_test(
	~X1+X2+X3,	#Controls
	~D,			#Treatments
	~Z1 + Z2,	#Instruments
	B=.1,		#Maximum Allowable Size Distortion
	size_bias="size", #Calculate critical value for size distortions
	data =example_data
)
```

# References
